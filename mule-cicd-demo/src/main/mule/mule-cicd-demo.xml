<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:api-gateway="http://www.mulesoft.org/schema/mule/api-gateway" xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core"
	xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd
http://www.mulesoft.org/schema/mule/api-gateway http://www.mulesoft.org/schema/mule/api-gateway/current/mule-api-gateway.xsd">
	<http:listener-config name="HTTP_Listener_config" doc:name="HTTP Listener config" doc:id="32d17ce1-24cf-428b-a292-c19b03a6e323" >
		<http:listener-connection host="0.0.0.0" port="${http.port}" />
	</http:listener-config>
	<api-gateway:autodiscovery apiId="${api.autodiscoveryid}" ignoreBasePath="true" doc:name="API Autodiscovery" doc:id="a5b754fa-f95e-4159-a6d8-06da1e367b72" flowRef="mule-cicd-demoFlow" />
	<configuration-properties doc:name="Configuration properties" doc:id="05bdc6af-079f-49cc-92eb-770b37f00541" file="api.yaml" />
	<flow name="mule-cicd-demoFlow" doc:id="d7a3e6a7-8df5-4e17-915d-86ee80645aa6" >
		<http:listener doc:name="Listener" doc:id="869803a1-008d-4a69-9544-a2cab91bf073" config-ref="HTTP_Listener_config" path="/cicd"/>
		<ee:transform doc:name="Transform Message" doc:id="5596f32b-289f-46ea-a2dc-a37d5a943472" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
	message : "Demo CI-CD Application" 
}]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
</mule>
